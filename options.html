<html>
<head><title>Bitcoin Extension Options</title></head>
<script type="text/javascript">

// Saves options to localStorage.
function save_options() {
  var server = document.getElementById("server").value;
  localStorage["server"] = server;
  var user = document.getElementById("user").value;
  localStorage["user"] = user;
  var pass = document.getElementById("pass").value;
  localStorage["pass"] = pass;  
  
  // Update status to let user know options were saved.
  var status = document.getElementById("status");
  status.innerHTML = chrome.i18n.getMessage("OptionsSaved");
    
  setTimeout(function() {
    status.innerHTML = "";
  }, 750);
}

// Restores options to saved value from localStorage.
function restore_options() {
  var server = localStorage["server"];
  var user = localStorage["user"];
  var pass = localStorage["pass"];
  if (server === undefined)
      server = "127.0.0.1:8332";
  if (user === undefined)
      user = "";
  if (pass === undefined)
      pass = "";
  document.getElementById("server").value = server;
  document.getElementById("user").value = user;
  document.getElementById("pass").value = pass;
}

</script>

<body onload="restore_options()">
<span style='font-weight: bold; font-size: 18pt;'>Bitcoin Extension Options<br/></span>
JSON-RPC Server: http://<input type="text" id="server" value=""><br/>
Username: <input type="text" id="user" value=""><br/>
Password: <input type="password" id="pass" value=""><br/>
<div id="status"></div>
<button onclick="save_options()">Save</button>
</body>
</html>
